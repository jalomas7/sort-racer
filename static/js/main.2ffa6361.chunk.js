(this["webpackJsonpsort-app"]=this["webpackJsonpsort-app"]||[]).push([[0],{11:function(n,e,t){n.exports=t(17)},16:function(n,e,t){},17:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),o=t(6),c=t.n(o),i=(t(16),t(1)),l=t(2),u=t(3),s=t(4),f=t(9),b=function(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e="0123456789ABCDEF",t="#",r=0;r<6;r++)t=t.concat(e[Math.min(Math.floor(Math.random()*e.length+n),e.length-1)]);return t},d=function(n){for(var e=0;e<n.length;e++){var t=Math.floor(Math.random()*n.length),r=n[e],a=n[t];n[e]=a,n[t]=r}return n},v=t(19),p=Object(r.createContext)({players:[],gameWon:!1,declareWinner:function(){},playerStacks:{},ballColors:[],resetGame:function(){}}),g=function(){return Object(r.useContext)(p)},m=function(n){for(var e=[],t=0;t<n.length;t++){var r=n[t],a={id:Object(v.a)(),color:r};e.push(a)}return e},h=function(n){var e=n.children,t=n.players,o=Object(r.useState)([]),c=Object(u.a)(o,2),i=c[0],l=c[1],g=Object(r.useState)({}),h=Object(u.a)(g,2),j=h[0],O=h[1],y=Object(r.useState)(!1),k=Object(u.a)(y,2),x=k[0],E=k[1],w=Object(r.useState)(),C=Object(u.a)(w,2),S=C[0],M=C[1],B=function(){E(!1);var n=function(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=[],r=function(n){var r=b(e);if(t.some((function(n){return n===r})))return n--,a=n,"continue";t.push(r),a=n},a=0;a<n;a++)r(a);return t}(4,2);l(n);var e={};t.forEach((function(t){for(var r=0;r<n.length+1;r++)e[t]=Object(f.a)({},e[t],Object(s.a)({},Object(v.a)(),{balls:m(d(n))}))})),O(e)};Object(r.useEffect)((function(){B()}),[]);var D={players:t,ballColors:i,playerStacks:j,declareWinner:function(n){E(!0),M(n)},gameWon:x,resetGame:B,winner:S};return a.a.createElement(p.Provider,{value:D},e)},j={activeBall:void 0,setActiveBall:function(){},onDrag:function(){},onDrop:function(){}},O=Object(r.createContext)(j),y=function(){return Object(r.useContext)(O)},k=function(n){var e=n.children,t=n.playerId,o=Object(r.useState)(),c=Object(u.a)(o,2),i=c[0],l=c[1],s=g(),f=s.playerStacks,b=s.declareWinner,d=Object(r.useMemo)((function(){return f[t]}),[t,f]),v=Object(r.useCallback)((function(){var n=!0;d&&(Object.keys(d).forEach((function(e){if(!(d[e].balls.length<1)){var t=d[e].balls[0].color;d[e].balls.forEach((function(e){e.color===t||(n=!1)}))}})),n&&b(t))}),[d,t,b]),p=Object(r.useCallback)((function(n){var e=f[t][n].balls.shift();l(e)}),[f[t]]),m=Object(r.useCallback)((function(n){var e=f[t][n].balls;!i||e.length>4||(e.unshift(i),l(void 0),v())}),[f[t],i]),h={activeBall:i,setActiveBall:l,onDrag:p,onDrop:m};return a.a.createElement(O.Provider,{value:h},e)},x=t(10);function E(){var n=Object(i.a)(["\n  height: 100%;\n  width: 100%;\n  visibility: ",";\n  background-color: ",";\n  position: absolute;\n  z-index: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return E=function(){return n},n}var w=l.a.div(E(),(function(n){return n.open?"visible":"hidden"}),(function(n){return n.backgroundColor})),C=function(n){var e=n.backgroundColor,t=void 0===e?"transparent":e,r=n.children,o=Object(x.a)(n,["backgroundColor","children"]);return a.a.createElement(w,Object.assign({backgroundColor:t},o),r)};function S(){var n=Object(i.a)([""]);return S=function(){return n},n}function M(){var n=Object(i.a)(["\n  outline: none;\n"]);return M=function(){return n},n}function B(){var n=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  background: ",";\n  color: ",";\n  padding: 10em;\n"]);return B=function(){return n},n}var D=l.a.div(B(),(function(n){return n.background}),(function(n){return function(n){if(!n)return!1;var e=n.slice(1,n.length);return 6===e.length&&parseInt(e.slice(0,2),16)+parseInt(e.slice(2,4),16)+parseInt(e.slice(4,6),16)<382}(n.background)?"white":"black"})),I=l.a.button(M()),W=l.a.h1(S()),A=function(){var n=g(),e=n.gameWon,t=n.resetGame,o=n.winner,c=Object(r.useState)("transparent"),i=Object(u.a)(c,2),l=i[0],s=i[1];return Object(r.useEffect)((function(){s(b())}),[]),a.a.createElement(C,{open:e,backgroundColor:"rgba(0,0,0,0.8)"},a.a.createElement(D,{background:l},a.a.createElement(W,null,o," wins!!!"),a.a.createElement(I,{onClick:t},"Play Again")))};function z(){var n=Object(i.a)(["\n  left: ","px;\n  top: ","px;\n  border-radius: 100%;\n  background: radial-gradient(\n    circle at 25px 10px,\n    ",",\n    #000\n  );\n  min-width: 50px;\n  min-height: 50px;\n  position: ",";\n  pointer-events: ",";\n"]);return z=function(){return n},n}var G=l.a.div(z(),(function(n){return n.x-25}),(function(n){return n.y-25}),(function(n){return n.color}),(function(n){return n.active?"absolute":"unset"}),(function(n){return n.active?"none":"unset"})),P=function(n){var e=n.id,t=n.color,r=void 0===t?b():t,o=n.x,c=void 0===o?0:o,i=n.y,l=void 0===i?0:i,u=y().activeBall,s=u&&u.id===e||!1;return a.a.createElement(G,{color:r,active:s,x:c,y:l})};function F(){var n=Object(i.a)(["\n  width: 100%;\n  height: 250px;\n  border-radius: 10px;\n  background-color: rgba(0, 0, 0, 0.2);\n  position: absolute;\n  bottom: 0;\n  background: linear-gradient(\n    to left,\n    rgba(0, 0, 0, 0.5),\n    rgba(0, 0, 0, 0.4),\n    rgba(0, 0, 0, 0.5)\n  );\n"]);return F=function(){return n},n}function J(){var n=Object(i.a)(["\n  min-width: 55px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  position: relative;\n  margin: 0 10px 25% 10px;\n  align-self: flex-end;\n"]);return J=function(){return n},n}var U=l.a.div(J()),X=l.a.div(F()),Y=function(n){var e=n.balls,t=n.id,r=y(),o=r.onDrag,c=r.onDrop,i=r.activeBall;return a.a.createElement(U,{onMouseDown:function(){return!i&&o(t)},onMouseUp:function(){return i&&c(t)},onClick:function(){i&&c(t)}},a.a.createElement(X,null),e.map((function(n){var e=n.color,t=n.id;return a.a.createElement(P,{color:e,key:t,id:t})})))};function $(){var n=Object(i.a)(["\n  display: flex;\n  background-color: #282c34;\n  min-height: 15em;\n  align-items: center;\n  justify-content: center;\n  font-size: calc(10px + 2vmin);\n  color: white;\n  border: 5px solid white;\n  margin: 0 10px;\n"]);return $=function(){return n},n}var q=l.a.div($()),H=function(n){var e=n.playerId,t=y().activeBall,o=g().playerStacks,c=Object(r.useState)(0),i=Object(u.a)(c,2),l=i[0],s=i[1],f=Object(r.useState)(0),b=Object(u.a)(f,2),d=b[0],v=b[1];return o[e]?a.a.createElement(q,{onMouseMoveCapture:function(n){n.preventDefault(),s(n.clientX),v(n.clientY)},id:e},Object.keys(o[e]).map((function(n){return a.a.createElement(Y,{balls:o[e][n].balls,key:n,id:n})})),t&&a.a.createElement(P,{x:l,y:d,color:t.color,id:t.id})):a.a.createElement(a.a.Fragment,null)};function K(){var n=Object(i.a)(["\n  display: flex;\n  background-color: #282c34;\n  min-height: 100vh;\n  align-items: center;\n  justify-content: center;\n  font-size: calc(10px + 2vmin);\n  color: white;\n"]);return K=function(){return n},n}var L=l.a.div(K()),N=function(){var n=g().players;return a.a.createElement(L,null,a.a.createElement(A,null),n.map((function(n){return a.a.createElement(k,{playerId:n},a.a.createElement(H,{playerId:n}))})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(h,{players:["player 1","player 2"]},a.a.createElement(N,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[11,1,2]]]);
//# sourceMappingURL=main.2ffa6361.chunk.js.map